<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokédex Completa com Links</title>

    <style>
        /*
        =======================================
        |             ESTILO (CSS)            |
        =======================================
        */

        /* Reset básico */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f0f0f0;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            background-color: #4400ff; /* Vermelho Pokédex */
            color: white;
            padding: 20px 0;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }

        .search-container {
            margin-top: 15px;
        }

        #searchInput {
            padding: 10px;
            width: 80%;
            max-width: 400px;
            border-radius: 5px;
            border: none;
            font-size: 16px;
            outline: none;
        }

        /* Contêiner da Pokédex - Layout Grid */
        .pokedex-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 0;
        }

        /* O link (ancoragem) que envolve o cartão */
        .pokemon-link {
            text-decoration: none; /* Remove sublinhado do link */
            color: inherit; /* Mantém a cor do texto do cartão */
        }
        
        /* Cartão individual */
        .pokemon-card {
            background-color: white;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
            height: 100%; /* Garante que o cartão preencha o link */
        }

        .pokemon-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
        }

        .pokemon-card img {
            width: 100px;
            height: 100px;
            margin-bottom: 10px;
        }

        .pokemon-id {
            color: #666;
            font-size: 0.9em;
            display: block;
            margin-bottom: 5px;
        }

        .pokemon-name {
            text-transform: capitalize;
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .type {
            display: inline-block;
            padding: 5px 10px;
            margin: 3px;
            border-radius: 5px;
            color: white;
            font-size: 0.8em;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        /* Mensagem de carregamento */
        .loading {
            grid-column: 1 / -1; /* Ocupa todas as colunas */
            text-align: center;
            color: #555;
            font-size: 1.5em;
            padding: 50px 0;
        }

        /* Cores de Tipos (Mantenho todas) */
        .type-normal { background-color: #A8A878; }
        .type-fire { background-color: #F08030; }
        .type-water { background-color: #6890F0; }
        .type-grass { background-color: #78C850; }
        .type-electric { background-color: #F8D030; }
        .type-ice { background-color: #98D8D8; }
        .type-fighting { background-color: #C03028; }
        .type-poison { background-color: #A040A0; }
        .type-ground { background-color: #E0C068; }
        .type-flying { background-color: #A890F0; }
        .type-psychic { background-color: #F85888; }
        .type-bug { background-color: #A8B820; }
        .type-rock { background-color: #B8A038; }
        .type-ghost { background-color: #705898; }
        .type-dragon { background-color: #7038F8; }
        .type-steel { background-color: #B8B8D0; }
        .type-dark { background-color: #705848; }
        .type-fairy { background-color: #EE99AC; }
    </style>
</head>
<body>
    <header class="header">
        <h1>Pokédex</h1>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Buscar Pokémon por nome ou ID..." onkeyup="filterPokemon()">
        </div>
    </header>

    <div id="pokedex-container" class="pokedex-container">
        <div class="loading" id="loading-message">Carregando todos os 1080+ Pokémon... Aguarde um momento.</div>
    </div>

    <script>
        /*
        =======================================
        |          LÓGICA (JavaScript)        |
        =======================================
        */

        const pokedexContainer = document.getElementById('pokedex-container');
        const searchInput = document.getElementById('searchInput');
        
        // Define o limite de Pokémon.
        const POKEMON_COUNT = 1080; 
        
        let allPokemon = []; 

        // Função para buscar todos os Pokémon (mantida do código anterior)
        const fetchAllPokemon = async () => {
            
            const fetchPromises = [];
            for (let i = 1; i <= POKEMON_COUNT; i++) {
                const url = `https://pokeapi.co/api/v2/pokemon/${i}`;
                
                fetchPromises.push(
                    fetch(url)
                        .then(res => {
                            if (!res.ok) { return null; }
                            return res.json();
                        })
                        .catch(error => {
                            console.warn(`Falha ao buscar Pokémon ${i}:`, error);
                            return null;
                        })
                );
            }

            try {
                const pokemonDataArray = await Promise.all(fetchPromises);
                
                document.getElementById('loading-message').remove();
                
                pokemonDataArray.filter(data => data !== null).forEach(data => createPokemonCard(data));
                
            } catch (error) {
                pokedexContainer.innerHTML = '<h2>Erro grave ao carregar os dados. Tente recarregar a página.</h2>';
                console.error("Erro no Promise.all:", error);
            }
        };

        // Função para criar o HTML do cartão (Modificada para incluir a tag <a>)
        const createPokemonCard = (pokemon) => {
            // URL de Exemplo: leva para www.pokemon.net.br/nome-do-pokemon
            // Isso simula o link para uma página de detalhes.
            const detailUrl = `http://www.pokemon.net.br/pokedex/${pokemon.name}`;
            
            // 1. Cria a tag de link (a)
            const pokemonLink = document.createElement('a');
            pokemonLink.classList.add('pokemon-link');
            pokemonLink.href = detailUrl;
            pokemonLink.target = '_blank'; // Abre em uma nova aba

            // 2. Cria o cartão (div) que estará DENTRO do link
            const pokemonEl = document.createElement('div');
            pokemonEl.classList.add('pokemon-card');
            pokemonEl.setAttribute('data-name', pokemon.name.toLowerCase());
            pokemonEl.setAttribute('data-id', pokemon.id.toString());

            // Tipos
            const pokemonTypes = pokemon.types.map(type => type.type.name);
            const typeTags = pokemonTypes.map(type => `
                <span class="type type-${type}">${type}</span>
            `).join('');

            // ID formatado (ex: #001)
            const formattedId = `#${pokemon.id.toString().padStart(3, '0')}`;
            
            // Imagem
            const spriteUrl = pokemon.sprites.front_default;

            const pokemonInnerHTML = `
                <span class="pokemon-id">${formattedId}</span>
                ${spriteUrl ? `<img src="${spriteUrl}" alt="${pokemon.name}">` : `<div style="height: 100px;">Sem Imagem</div>`}
                <h3 class="pokemon-name">${pokemon.name}</h3>
                <div class="types-container">
                    ${typeTags}
                </div>
            `;

            pokemonEl.innerHTML = pokemonInnerHTML;
            
            // 3. Coloca o cartão dentro do link
            pokemonLink.appendChild(pokemonEl);
            
            // 4. Adiciona o link (com o cartão dentro) ao contêiner principal
            pokedexContainer.appendChild(pokemonLink);
            
            allPokemon.push(pokemonEl); // Adiciona o ELEMENTO (o cartão) para a busca
        };

        // Função de filtro (inalterada)
        const filterPokemon = () => {
            const searchTerm = searchInput.value.toLowerCase();

            // Note que aqui iteramos sobre os cartões (pokemonEl), mas precisamos referenciar o link pai
            allPokemon.forEach(pokemonEl => {
                const linkEl = pokemonEl.parentElement; // O link é o pai do cartão
                const name = pokemonEl.getAttribute('data-name');
                const id = pokemonEl.getAttribute('data-id');

                if (name.includes(searchTerm) || id.startsWith(searchTerm)) {
                    linkEl.style.display = 'block'; // Mostra o link (e o cartão)
                } else {
                    linkEl.style.display = 'none'; // Esconde o link (e o cartão)
                }
            });
        };

        // Inicia o carregamento dos Pokémon
        fetchAllPokemon();
    </script>
</body>
</html>